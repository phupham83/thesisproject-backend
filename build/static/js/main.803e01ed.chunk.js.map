{"version":3,"sources":["components/NoMatch.js","components/Transaction.js","services/users.js","reducers/userReducer.js","components/Login.js","components/Logout.js","components/SignUp.js","components/Consent.js","components/Accounts.js","services/transactions.js","reducers/transactionReducer.js","App.js","store.js","reportWebVitals.js","index.js"],"names":["NoMatch","Transaction","transactions","useSelector","state","map","transaction","counterparty","amount","id","login","credentials","a","axios","post","response","data","signup","respone","confirmConsent","put","getConsent","window","location","href","getAccounts","get","userReducer","action","type","console","log","newState","accounts","Login","dispatch","useDispatch","history","useHistory","onSubmit","event","preventDefault","username","target","Username","value","password","Password","cb","userService","user","localStorage","setItem","JSON","stringify","push","name","Logout","onClick","clear","logout","SignUp","Name","Consent","to","Accounts","useEffect","consent","e","getAll","transactionReducer","App","loggedUserJSON","getItem","parse","localLogin","transactionsService","padding","path","style","exact","combinedReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.803e01ed.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst NoMatch = () =>{\r\n    return(\r\n        <h3>404 Not Found</h3>\r\n    )\r\n}\r\n\r\nexport default NoMatch","import React from \"react\"\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Transaction = () => {\r\n    \r\n    const transactions = useSelector(state => state.transactions)\r\n    \r\n    return(\r\n        <div>\r\n            \r\n            <h1>Transactions</h1>\r\n            <ul>\r\n            {transactions.map(transaction => \r\n                <li key = {transaction.id}>\r\n                    {transaction.counterparty}\r\n                    {transaction.amount}\r\n                </li>)}\r\n            </ul>   \r\n        </div>\r\n           \r\n    )\r\n}\r\n\r\nexport default Transaction","import axios from \"axios\"\r\nconst baseUrl = \"/api/login\"\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nconst signup = async credentials => {\r\n    const respone = await axios.post(\"/api/users\", credentials)\r\n    return respone.data\r\n}\r\n\r\nconst getConsent = () => {\r\n    // await axios.get(\"/api/obpApi/connect\")\r\n    window.location.href = \"/api/obpApi/connect\"\r\n}\r\n\r\nconst confirmConsent = async id =>{\r\n    const response = await axios.put(\"/api/obpApi/save/\" + id)\r\n    return response.data\r\n}\r\n\r\nconst getAccounts = async id =>{\r\n    const response = await axios.get(\"/api/obpApi/getMyAccounts/\" + id)\r\n    return response.data\r\n}\r\n\r\nexport default { login, signup, getConsent, getAccounts, confirmConsent }","import userService from \"../services/users\"\r\n\r\nconst userReducer = (state = null, action) =>{\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n          return action.data\r\n        case \"LOCAL_LOGIN\":\r\n          return action.data\r\n        case \"LOGOUT\":\r\n          return null\r\n        case \"SIGN_UP\":\r\n          console.log(action.data)\r\n          return state\r\n        case \"GET_CONSENT\":\r\n          console.log(action.data)\r\n          return state\r\n        case \"CONFIRM_CONSENT\":\r\n          console.log(action.data)\r\n          return state\r\n        case \"GET_ACCOUNTS\":\r\n          const newState = {...state, accounts: action.data}\r\n          return newState\r\n        default:\r\n            console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const login = (username, password, cb) => {\r\n    return async dispatch => {\r\n      try {\r\n        \r\n        const user = await userService.login({\r\n            username, password,\r\n        })\r\n        window.localStorage.setItem(\r\n            \"loggedUser\", JSON.stringify(user)\r\n        )\r\n        \r\n        dispatch ({\r\n          type: 'LOGIN',\r\n          data: user,\r\n        })\r\n        cb()\r\n          } catch (exception) {\r\n              console.log(exception)\r\n          }   \r\n    }\r\n  }\r\n\r\nexport const localLogin = (user) => {\r\n  return ( dispatch =>\r\n    {dispatch ({\r\n      type: \"LOCAL_LOGIN\",\r\n      data: user\r\n    })}\r\n  )\r\n}\r\n\r\nexport const logout = (cb) => {\r\n  return ( dispatch =>\r\n    {\r\n      window.localStorage.clear()\r\n      dispatch ({\r\n      type: \"LOGOUT\"\r\n      })\r\n      cb()\r\n    }\r\n  )\r\n}\r\n\r\nexport const signup = (username, name, password,cb) =>{\r\n  return async dispatch =>{\r\n      try {\r\n          const response = await userService.signup({\r\n              username, name, password,\r\n          })\r\n          dispatch({\r\n              type: \"SIGN_UP\",\r\n              data: response\r\n          })\r\n          cb()\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n  }\r\n}\r\n\r\nexport const getConsent = ()=>{\r\n  return async dispatch =>{\r\n    try {\r\n      const response = await userService.getConsent()\r\n      dispatch({\r\n        type: \"GET_CONSENT\",\r\n        data: response\r\n      })\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const getAccounts = (user) => {\r\n  if(user.consent){\r\n  return async dispatch =>{\r\n    try {\r\n      const response = await userService.getAccounts(user.id)\r\n      dispatch({\r\n        type: \"GET_ACCOUNTS\",\r\n        data: response\r\n      })\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }} else{\r\n    return async dispatch =>{\r\n      try {\r\n        const response = null\r\n        dispatch({\r\n          type: \"GET_ACCOUNTS\",\r\n          data: response\r\n        })\r\n      } catch (e) {\r\n        console.log(e)\r\n      }}\r\n  }\r\n}\r\n\r\nexport const confirmConsent = (id, cb) =>{\r\n  return async dispatch => {\r\n    try {\r\n      const response = await userService.confirmConsent(id)\r\n      dispatch({\r\n        type: \"CONFIRM_CONSENT\",\r\n        data: response\r\n      })\r\n      cb()\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport default userReducer","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { login } from '../reducers/userReducer'\r\nimport { useHistory } from 'react-router'\r\n\r\nconst Login = () =>{\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleLogin = (event) =>{\r\n        event.preventDefault()\r\n        const username = event.target.Username.value\r\n        const password = event.target.Password.value\r\n        const cb = () => history.push(\"/\")\r\n        dispatch(login(username,password, cb))\r\n    }\r\n    return (\r\n        <div>\r\n            <h2>Log in to application</h2>\r\n            <form onSubmit={handleLogin}>\r\n                <div>\r\n      Username \r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"Username\"\r\n                        id =\"username\"\r\n                    />\r\n                </div>\r\n                <div>\r\n      Password \r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"Password\"\r\n                        id=\"password\"\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">Login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { logout} from '../reducers/userReducer'\r\nimport { useHistory } from 'react-router'\r\n\r\nconst Logout = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleLogout = (event) =>{\r\n        event.preventDefault()\r\n        const cb = () => history.push(\"/\")\r\n        dispatch(logout(cb))\r\n    } \r\n    return(\r\n        <button onClick ={handleLogout}>Log out</button>\r\n    )\r\n}\r\n\r\nexport default Logout","import React from \"react\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport { signup } from \"../reducers/userReducer\"\r\n\r\nconst SignUp = () =>{\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleSignup = (event)=>{\r\n        event.preventDefault()\r\n        const username = event.target.Username.value\r\n        const password = event.target.Password.value\r\n        const name = event.target.Name.value\r\n        const cb = () => history.push(\"/\")\r\n        dispatch(signup(username, name, password, cb))\r\n    }\r\n    return (\r\n        <div>\r\n            <h2>Sign up for the application</h2>\r\n            <form onSubmit ={handleSignup}>\r\n                <div>\r\n                    Username<input type=\"text\" name=\"Username\" id =\"username\"/>\r\n                </div>\r\n                <div>\r\n                    Name<input type=\"text\" name=\"Name\" id =\"name\"/>\r\n                </div>\r\n                <div>\r\n                    Password<input type=\"password\" name=\"Password\" id =\"password\"/>\r\n                </div>\r\n                <button type=\"submit\">Sign up</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { confirmConsent } from \"../reducers/userReducer\"\r\nimport { Redirect,useHistory } from 'react-router'\r\n\r\nconst Consent = () =>{\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const user = useSelector(state => state.user)\r\n    const cb = () => history.push(\"/\")\r\n    const handleConfirm =(event) =>{\r\n    event.preventDefault()\r\n    dispatch(confirmConsent(user.id, cb))\r\n    }\r\n    return(\r\n        <div>\r\n            {user ? <div>\r\n                <h1>Consent confirmation</h1>\r\n                <p>By accepting you are allowing your data to be accessed</p>\r\n                <button onClick ={handleConfirm}>Confirm</button>\r\n            </div> :\r\n            <Redirect to =\"/\"/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Consent","import React, {useEffect} from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { getConsent, getAccounts } from \"../reducers/userReducer\"\r\n\r\nconst Accounts = () => {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n    useEffect(()=>{\r\n        dispatch(getAccounts(user))\r\n    }, [dispatch])\r\n    \r\n    const handleAccountAuth = (event) =>{\r\n        event.preventDefault()\r\n        dispatch(getConsent(user.id))\r\n    }\r\n    return(\r\n        <div>\r\n            <h1>Accounts</h1>\r\n            {user.consent[0] ? \r\n                <div>\r\n                    {user.accounts}\r\n                </div>\r\n            :\r\n            <div>\r\n                <p>Please add an account to start</p>\r\n                <button onClick ={handleAccountAuth}>Add account</button>\r\n            </div>  \r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Accounts","import axios from \"axios\"\r\nconst baseUrl = \"/api/transactions\"\r\n\r\nconst getAll = async () => {\r\n    const response = await axios.get(baseUrl)\r\n    return response.data\r\n}\r\n\r\nexport default {\r\n    getAll\r\n}","import transactionsService from \"../services/transactions\"\r\n\r\nconst transactionReducer = (state = [], action) =>{\r\n    switch (action.type) {\r\n        case \"INIT_TRANSACTION\":\r\n            return action.data\r\n        default:\r\n            console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const initializeTransactions = () => {\r\n    return async dispatch => {\r\n      const transactions = await transactionsService.getAll()\r\n      dispatch ({\r\n        type: 'INIT_TRANSACTION',\r\n        data: transactions,\r\n      })\r\n    }\r\n  }\r\n\r\n  export default transactionReducer","import React, { useEffect } from \"react\"\r\nimport {  useDispatch, useSelector } from 'react-redux'\r\nimport NoMatch from \"./components/NoMatch\"\r\nimport Transaction from \"./components/Transaction\"\r\nimport Login from \"./components/Login\"\r\nimport Logout from \"./components/Logout\"\r\nimport SignUp from \"./components/SignUp\"\r\nimport Consent from \"./components/Consent\"\r\nimport Accounts from \"./components/Accounts\"\r\nimport { initializeTransactions } from \"./reducers/transactionReducer\"\r\nimport { localLogin  } from './reducers/userReducer'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch, Route, Link\r\n} from \"react-router-dom\"\r\n\r\nconst App = () =>{\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem(\"loggedUser\")\r\n    if (loggedUserJSON) {\r\n        const user = JSON.parse(loggedUserJSON)\r\n        dispatch(localLogin(user))\r\n    }\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeTransactions())\r\n  }, [dispatch])\r\n\r\n  const user = useSelector(state => state.user)\r\n\r\n  const padding = {\r\n    padding: 5\r\n  }\r\n\r\nreturn (\r\n    <div>\r\n        {user === null ?\r\n        <Router>\r\n            <Switch>\r\n                <Route path =\"/login\">\r\n                    <Link style={padding} to=\"/\">Home</Link> \r\n                    <Login />\r\n                </Route>\r\n                <Route path =\"/signup\">\r\n                    <Link style={padding} to=\"/\">Home</Link> \r\n                    <SignUp />\r\n                </Route>\r\n                <Route exact path =\"/\">\r\n                    <div>\r\n                        <Link style={padding} to=\"/login\">Login</Link>\r\n                        <Link style={padding} to=\"/signup\">Sign Up</Link>\r\n                    </div>\r\n                </Route>\r\n                <Route path = \"*\">\r\n                    <Link style={padding} to=\"/\">Home</Link> \r\n                    <NoMatch />\r\n                </Route> \r\n            </Switch>\r\n        </Router>\r\n        :\r\n        <Router>\r\n            <div>\r\n                <Link style={padding} to=\"/transactions\">Transactions</Link>\r\n                <Link style={padding} to=\"/accounts\">Accounts</Link>\r\n                <Link style={padding} to=\"/\">Home</Link>\r\n                <p>{user.username} logged in <Logout /></p>\r\n            </div>\r\n            <Switch>\r\n                <Route path =\"/transactions\">\r\n                    <Transaction />\r\n                </Route>\r\n                <Route path = \"/accounts\">\r\n                    <Accounts />\r\n                </Route>\r\n                <Route path = \"/consent\">\r\n                    <Consent/>\r\n                </Route>\r\n                <Route exact path =\"/\">\r\n                    <h1>Welcome to your budget planner</h1>\r\n                </Route>\r\n                <Route path =\"*\">\r\n                    <Link style={padding} to=\"/\">Home</Link>\r\n                    <NoMatch />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    }\r\n    </div>\r\n    \r\n)\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport transactionReducer from './reducers/transactionReducer'\r\nimport userReducer from './reducers/userReducer'\r\n\r\n\r\n\r\nconst combinedReducer = combineReducers({\r\n  transactions: transactionReducer,\r\n  user: userReducer\r\n})\r\nconst store = createStore(\r\n    combinedReducer,\r\n    composeWithDevTools(\r\n      applyMiddleware(thunk)\r\n    )\r\n  )\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from \"./store\"\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}