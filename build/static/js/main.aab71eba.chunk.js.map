{"version":3,"sources":["components/NoMatch.js","services/transactions.js","reducers/transactionReducer.js","components/Transaction.js","services/users.js","reducers/userReducer.js","reducers/messageReducer.js","components/Message.js","components/Login.js","components/Logout.js","components/SignUp.js","components/Consent.js","components/Accounts.js","App.js","store.js","reportWebVitals.js","index.js"],"names":["NoMatch","getAll","a","axios","get","response","data","transactionReducer","state","action","type","console","log","Transaction","dispatch","useDispatch","useEffect","transactionsService","transactions","useSelector","map","transaction","counterparty","amount","id","baseUrl","login","credentials","post","localLogin","logOut","signup","respone","getConsent","window","location","href","getAccounts","userReducer","accounts","setMessage","message","setTimeout","messageReducer","Message","style","border","padding","borderWidth","display","Login","history","useHistory","onSubmit","event","preventDefault","username","target","Username","value","password","Password","cb","messageCb","userService","user","push","name","Logout","onClick","logout","SignUp","Name","error","Consent","to","Accounts","consent","e","className","App","path","exact","combinedReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aab71eba.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst NoMatch = () => {\r\n    return(\r\n        <h3>404 Not Found</h3>\r\n    )\r\n}\r\n\r\nexport default NoMatch","import axios from \"axios\"\r\nconst baseUrl = \"/api/transactions\"\r\n\r\nconst getAll = async () => {\r\n    const response = await axios.get(baseUrl)\r\n    return response.data\r\n}\r\n\r\nexport default {\r\n    getAll\r\n}","import transactionsService from \"../services/transactions\"\r\n\r\nconst transactionReducer = (state = [], action) => {\r\n    switch (action.type) {\r\n    case \"INIT_TRANSACTION\":\r\n        return action.data\r\n    default:\r\n        console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const initializeTransactions = () => {\r\n    return async dispatch => {\r\n        const transactions = await transactionsService.getAll()\r\n        dispatch ({\r\n            type: \"INIT_TRANSACTION\",\r\n            data: transactions,\r\n        })\r\n    }\r\n}\r\n\r\nexport default transactionReducer","import React, { useEffect } from \"react\"\r\nimport { useDispatch,useSelector } from \"react-redux\"\r\nimport { initializeTransactions } from \"../reducers/transactionReducer\"\r\nconst Transaction = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(initializeTransactions())\r\n    }, [dispatch])\r\n    const transactions = useSelector(state => state.transactions)\r\n\r\n    return(\r\n        <div>\r\n            <h1>Transactions</h1>\r\n            <ul>\r\n                {transactions.map(transaction =>\r\n                    <li key = {transaction.id}>\r\n                        {transaction.counterparty}\r\n                        {transaction.amount}\r\n                    </li>)}\r\n            </ul>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Transaction","import axios from \"axios\"\r\nconst baseUrl = \"/api/login\"\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nconst localLogin = async () => {\r\n    const response = await axios.get(baseUrl + \"/local_login\")\r\n    return response.data\r\n}\r\n\r\nconst logOut = async () => {\r\n    const response = await axios.get(baseUrl + \"/logout\")\r\n    return response.data\r\n}\r\n\r\nconst signup = async credentials => {\r\n    const respone = await axios.post(\"/api/users\", credentials)\r\n    return respone.data\r\n}\r\n\r\nconst getConsent = () => {\r\n    // await axios.get(\"/api/obpApi/connect\")\r\n    window.location.href = \"/api/obpApi/connect\"\r\n}\r\n\r\nconst getAccounts = async () => {\r\n    const response = await axios.get(\"/api/obpApi/getMyAccounts/\")\r\n    return response.data\r\n}\r\n\r\nexport default { login, signup, getConsent, getAccounts, localLogin, logOut }","import userService from \"../services/users\"\r\n\r\nconst userReducer = (state = null, action) => {\r\n    let newState\r\n    switch (action.type) {\r\n    case \"LOGIN\":\r\n        return action.data\r\n    case \"LOCAL_LOGIN\":\r\n        return action.data\r\n    case \"LOGOUT\":\r\n        return null\r\n    case \"SIGN_UP\":\r\n        console.log(action.data)\r\n        return state\r\n    case \"GET_CONSENT\":\r\n        console.log(action.data)\r\n        return state\r\n    case \"GET_ACCOUNTS\":\r\n        newState = { ...state, accounts: action.data }\r\n        return newState\r\n    default:\r\n        console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const login = (username, password, cb, messageCb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await userService.login({\r\n                username, password,\r\n            })\r\n            dispatch ({\r\n                type: \"LOGIN\",\r\n                data: user,\r\n            })\r\n            cb()\r\n        } catch (exception) {\r\n            console.log(exception)\r\n            messageCb(\"Wrong username or password\")\r\n        }\r\n    }\r\n}\r\n\r\nexport const localLogin = () => {\r\n    return ( async dispatch =>\r\n    {\r\n        const user = await userService.localLogin()\r\n        dispatch ({\r\n            type: \"LOCAL_LOGIN\",\r\n            data: user\r\n        })}\r\n    )\r\n}\r\n\r\nexport const logout = (cb) => {\r\n    return ( async dispatch =>\r\n    {\r\n        await userService.logOut()\r\n        dispatch ({\r\n            type: \"LOGOUT\"\r\n        })\r\n        cb()\r\n    }\r\n    )\r\n}\r\n\r\nexport const signup = (username, name, password,cb, messageCb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await userService.signup({\r\n                username, name, password,\r\n            })\r\n            dispatch({\r\n                type: \"SIGN_UP\",\r\n                data: response\r\n            })\r\n            cb()\r\n        } catch (e) {\r\n            console.log(e)\r\n            messageCb(e.response.data.error)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getConsent = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await userService.getConsent()\r\n            dispatch({\r\n                type: \"GET_CONSENT\",\r\n                data: response\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getAccounts = (user) => {\r\n    if(user.consent){\r\n        return async dispatch => {\r\n            try {\r\n                const response = await userService.getAccounts(user.id)\r\n                dispatch({\r\n                    type: \"GET_ACCOUNTS\",\r\n                    data: response\r\n                })\r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n        }} else{\r\n        return async dispatch => {\r\n            try {\r\n                const response = null\r\n                dispatch({\r\n                    type: \"GET_ACCOUNTS\",\r\n                    data: response\r\n                })\r\n            } catch (e) {\r\n                console.log(e)\r\n            }}\r\n    }\r\n}\r\n\r\n\r\nexport default userReducer","const messageReducer = (state = null, action) => {\r\n    switch (action.type){\r\n    case \"SET_MESSAGE\":\r\n        return action.data\r\n    default:\r\n        console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const setMessage = (message) => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_MESSAGE\",\r\n            data: message\r\n        })\r\n        setTimeout(() => dispatch({ type: \"SET_MESSAGE\", data: null }), 3000)\r\n    }\r\n}\r\n\r\nexport const clearMessage = () => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_MESSAGE\",\r\n            data: null\r\n        })\r\n    }\r\n}\r\n\r\nexport default messageReducer","import React from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\n\r\nconst Message = () => {\r\n    const message = useSelector(state => state.message)\r\n    const style = {\r\n        border: \"solid\",\r\n        padding: 10,\r\n        borderWidth: 1,\r\n        display: message ? \"\" : \"none\"\r\n    }\r\n    return (\r\n        <div style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { login } from \"../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\nimport { setMessage } from \"../reducers/messageReducer\"\r\nimport Message from \"./Message\"\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleLogin = (event) => {\r\n        event.preventDefault()\r\n        const username = event.target.Username.value\r\n        const password = event.target.Password.value\r\n        const cb = () => history.push(\"/\")\r\n        const messageCb = (message) => {dispatch(setMessage(message))}\r\n        dispatch(login(username,password, cb, messageCb))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Message />\r\n            <h2>Log in to application</h2>\r\n            <form onSubmit={handleLogin}>\r\n                <div>\r\n      Username\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"Username\"\r\n                        id =\"username\"\r\n                    />\r\n                </div>\r\n                <div>\r\n      Password\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"Password\"\r\n                        id=\"password\"\r\n                    />\r\n                </div>\r\n                <button id =\"login-button\"type=\"submit\">Login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { logout } from \"../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nconst Logout = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleLogout = (event) => {\r\n        event.preventDefault()\r\n        const cb = () => history.push(\"/\")\r\n        dispatch(logout(cb))\r\n    }\r\n    return(\r\n        <button onClick ={handleLogout}>Log out</button>\r\n    )\r\n}\r\n\r\nexport default Logout","import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useHistory } from \"react-router\"\r\nimport { signup } from \"../reducers/userReducer\"\r\nimport { setMessage } from \"../reducers/messageReducer\"\r\nimport Message from \"./Message\"\r\n\r\nconst SignUp = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleSignup = (event) => {\r\n        event.preventDefault()\r\n        const username = event.target.Username.value\r\n        const password = event.target.Password.value\r\n        const name = event.target.Name.value\r\n        const cb = () => history.push(\"/\")\r\n        const messageCb = (message) => {dispatch(setMessage(message))}\r\n        dispatch(signup(username, name, password, cb, messageCb))\r\n    }\r\n    return (\r\n        <div>\r\n            <Message />\r\n            <h2>Sign up for the application</h2>\r\n            <form onSubmit ={handleSignup}>\r\n                <div>\r\n                    Username<input type=\"text\" name=\"Username\" id =\"username\"/>\r\n                </div>\r\n                <div>\r\n                    Name<input type=\"text\" name=\"Name\" id =\"name\"/>\r\n                </div>\r\n                <div>\r\n                    Password<input type=\"password\" name=\"Password\" id =\"password\"/>\r\n                </div>\r\n                <button id =\"signup-button\" type=\"submit\">Sign up</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { getConsent } from \"../reducers/userReducer\"\r\nimport { Redirect } from \"react-router\"\r\n\r\nconst Consent = () => {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n\r\n    const handleConfirm =(event) => {\r\n        event.preventDefault()\r\n        dispatch(getConsent())\r\n    }\r\n    return(\r\n        <div>\r\n            {user ? <div>\r\n                <h1>Consent confirmation</h1>\r\n                <p>By accepting you are allowing your data to be accessed</p>\r\n                <button onClick ={handleConfirm}>Confirm</button>\r\n            </div> :\r\n                <Redirect to =\"/\"/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Consent","import React, { useEffect } from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport {  getAccounts } from \"../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nconst Accounts = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const user = useSelector(state => state.user)\r\n    useEffect(() => {\r\n        dispatch(getAccounts(user))\r\n    }, [dispatch])\r\n\r\n    const handleAccountAuth = (event) => {\r\n        event.preventDefault()\r\n        history.push(\"/consent\")\r\n    }\r\n    return(\r\n        <div>\r\n            <h1>Accounts</h1>\r\n            {user.consent ?\r\n                <div className = \"showAccount\">\r\n                    {user.accounts}\r\n                </div>\r\n                :\r\n                <div className =\"addAccount\">\r\n                    <p>Please add an account to start</p>\r\n                    <button onClick ={handleAccountAuth}>Add account</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Accounts","import React, { useEffect } from \"react\"\r\nimport {  useDispatch, useSelector } from \"react-redux\"\r\nimport NoMatch from \"./components/NoMatch\"\r\nimport Transaction from \"./components/Transaction\"\r\nimport Login from \"./components/Login\"\r\nimport Logout from \"./components/Logout\"\r\nimport SignUp from \"./components/SignUp\"\r\nimport Consent from \"./components/Consent\"\r\nimport Accounts from \"./components/Accounts\"\r\nimport { localLogin  } from \"./reducers/userReducer\"\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, Route, Link\r\n} from \"react-router-dom\"\r\n\r\nconst App = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(localLogin())\r\n    }, [dispatch])\r\n\r\n    const user = useSelector(state => state.user)\r\n\r\n    const padding = {\r\n        padding: 5\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {user === null ?\r\n                <Router>\r\n                    <Switch>\r\n                        <Route path =\"/login\">\r\n                            <Link style={padding} to=\"/\">Home</Link>\r\n                            <Login />\r\n                        </Route>\r\n                        <Route path =\"/signup\">\r\n                            <Link style={padding} to=\"/\">Home</Link>\r\n                            <SignUp />\r\n                        </Route>\r\n                        <Route exact path =\"/\">\r\n                            <div>\r\n                                <Link style={padding} to=\"/login\">Login</Link>\r\n                                <Link style={padding} to=\"/signup\">Sign Up</Link>\r\n                            </div>\r\n                        </Route>\r\n                        <Route path = \"*\">\r\n                            <Link style={padding} to=\"/\">Home</Link>\r\n                            <NoMatch />\r\n                        </Route>\r\n                    </Switch>\r\n                </Router>\r\n                :\r\n                <Router>\r\n                    <div>\r\n                        <Link style={padding} to=\"/transactions\">Transactions</Link>\r\n                        <Link style={padding} to=\"/accounts\">Accounts</Link>\r\n                        <Link style={padding} to=\"/\">Home</Link>\r\n                        <p>{user.username} logged in <Logout /></p>\r\n                    </div>\r\n                    <Switch>\r\n                        <Route path =\"/transactions\">\r\n                            <Transaction />\r\n                        </Route>\r\n                        <Route path = \"/accounts\">\r\n                            <Accounts />\r\n                        </Route>\r\n                        <Route path = \"/consent\">\r\n                            <Consent/>\r\n                        </Route>\r\n                        <Route exact path =\"/\">\r\n                            <h1>Welcome to your budget planner</h1>\r\n                        </Route>\r\n                        <Route path =\"*\">\r\n                            <Link style={padding} to=\"/\">Home</Link>\r\n                            <NoMatch />\r\n                        </Route>\r\n                    </Switch>\r\n                </Router>\r\n            }\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\"\r\nimport thunk from \"redux-thunk\"\r\nimport { composeWithDevTools } from \"redux-devtools-extension\"\r\nimport transactionReducer from \"./reducers/transactionReducer\"\r\nimport userReducer from \"./reducers/userReducer\"\r\nimport messageReducer from \"./reducers/messageReducer\"\r\n\r\n\r\n\r\nconst combinedReducer = combineReducers({\r\n    transactions: transactionReducer,\r\n    user: userReducer,\r\n    message: messageReducer\r\n})\r\nconst store = createStore(\r\n    combinedReducer,\r\n    composeWithDevTools(\r\n        applyMiddleware(thunk)\r\n    )\r\n)\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { Provider } from \"react-redux\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\nimport store from \"./store\"\r\nimport reportWebVitals from \"./reportWebVitals\"\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}