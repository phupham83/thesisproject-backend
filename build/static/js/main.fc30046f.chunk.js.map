{"version":3,"sources":["components/NoMatch.js","services/users.js","services/obp.js","reducers/userReducer.js","components/transactions/AllAccounts.js","components/transactions/SingleAccount.js","components/Transaction.js","reducers/messageReducer.js","components/Message.js","components/users/Login.js","components/users/Logout.js","components/users/SignUp.js","components/Consent.js","components/Accounts.js","App.js","store.js","reportWebVitals.js","index.js"],"names":["NoMatch","baseUrl","login","credentials","a","axios","post","response","data","localLogin","get","logOut","signup","respone","revoke","put","getConsent","window","location","href","getAccounts","getTransactions","bankid","id","getBalance","dispatch","userService","user","type","consent","obpService","reducer","b","transactionsPromises","accounts","map","account","bank_id","transactions","balances","reduce","initial","item","account_id","push","Promise","all","results","newUser","console","log","userReducer","state","action","AllAccounts","totalBalance","sort","Date","details","completed","balance","dates","transaction","newBalance","Number","value","amount","date","newDate","getFullYear","getMonth","getDate","new_balance","startingDate","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","style","height","width","options","scales","yAxes","grid","display","ticks","beginAtZero","xAxes","autoSkip","autoSkipPadding","className","toFixed","description","viewBox","xmlns","clipRule","d","fillRule","SingleAccounts","Transaction","useDispatch","useSelector","useEffect","history","useHistory","allTransactionsArrays","allBalancesArrays","allTransactions","nextValue","btnStyle","to","onClick","event","preventDefault","path","SingleAccount","exact","setMessage","message","setTimeout","messageReducer","Message","Login","inputStyle","onSubmit","username","target","Username","password","Password","cb","messageCb","htmlFor","name","placeholder","Logout","logout","SignUp","Name","error","Consent","Accounts","e","App","navStyle","src","stroke","combinedReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc30046f.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst NoMatch = () => {\r\n    return(\r\n        <div>\r\n            <h3>404 Not Found</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoMatch","import axios from \"axios\"\r\nconst baseUrl = \"/api/login\"\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nconst localLogin = async () => {\r\n    const response = await axios.get(baseUrl + \"/local_login\")\r\n    return response.data\r\n}\r\n\r\nconst logOut = async () => {\r\n    const response = await axios.get(baseUrl + \"/logout\")\r\n    return response.data\r\n}\r\n\r\nconst signup = async credentials => {\r\n    const respone = await axios.post(\"/api/users\", credentials)\r\n    return respone.data\r\n}\r\n\r\nconst revoke = async () => {\r\n    const response = await axios.put(\"/api/users/revoke\")\r\n    return response.data\r\n}\r\n\r\n\r\nexport default { login, signup, localLogin, logOut, revoke }","import axios from \"axios\"\r\nconst baseUrl = \"/api/obpApi\"\r\n\r\nconst getConsent = () => {\r\n    // await axios.get(\"/api/obpApi/connect\")\r\n    window.location.href = baseUrl + \"/connect\"\r\n}\r\n\r\nconst getAccounts = async () => {\r\n    const response = await axios.get(baseUrl + \"/getMyAccounts\")\r\n    return response.data\r\n}\r\n\r\nconst getTransactions = async (bankid, id) => {\r\n    const response = await axios.get(baseUrl + \"/getTransactions/\" + bankid + \"/\" + id)\r\n    return response.data\r\n}\r\n\r\nconst getBalance = async (bankid) => {\r\n    const response = await axios.get(baseUrl + \"/getBalance/\" + bankid)\r\n    return response.data\r\n}\r\n\r\nexport default { getConsent, getAccounts, getTransactions, getBalance }","import userService from \"../services/users\"\r\nimport obpService from \"../services/obp\"\r\n\r\nconst userReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n    case \"LOGIN\":\r\n        return action.data\r\n    case \"LOCAL_LOGIN\":\r\n        if(action.data) {\r\n            return action.data\r\n        }else {\r\n            return action.data\r\n        }\r\n    case \"LOGOUT\":\r\n        return null\r\n    case \"SIGN_UP\":\r\n        console.log(action.data)\r\n        return state\r\n    case \"GET_CONSENT\":\r\n        console.log(action.data)\r\n        return state\r\n    case \"REVOKE_CONSENT\":\r\n        return action.data\r\n    case \"GET_ACCOUNTS\":\r\n        return action.data\r\n    case \"NO_ACCOUNTS\":\r\n        return state\r\n    case \"GET_TRANSACTIONS\":\r\n        return action.data\r\n    case \"GET_BALANCE\":\r\n        return action.data\r\n    default:\r\n        console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const login = (username, password, cb, messageCb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await userService.login({\r\n                username, password,\r\n            })\r\n            dispatch ({\r\n                type: \"LOGIN\",\r\n                data: user,\r\n            })\r\n            cb()\r\n        } catch (exception) {\r\n            console.log(exception)\r\n            messageCb(\"Wrong username or password\")\r\n        }\r\n    }\r\n}\r\n\r\nexport const localLogin = () => {\r\n    return ( async dispatch =>\r\n    {\r\n        const user = await userService.localLogin()\r\n        dispatch ({\r\n            type: \"LOCAL_LOGIN\",\r\n            data: user\r\n        })}\r\n    )\r\n}\r\n\r\nexport const logout = (cb) => {\r\n    return ( async dispatch =>\r\n    {\r\n        await userService.logOut()\r\n        dispatch ({\r\n            type: \"LOGOUT\"\r\n        })\r\n        cb()\r\n    }\r\n    )\r\n}\r\n\r\nexport const signup = (username, name, password,cb, messageCb) => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await userService.signup({\r\n                username, name, password,\r\n            })\r\n            dispatch({\r\n                type: \"SIGN_UP\",\r\n                data: response\r\n            })\r\n            messageCb(\"Sign up successful\")\r\n            cb()\r\n        } catch (e) {\r\n            console.log(e)\r\n            messageCb(e.response.data.error)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getConsent = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await obpService.getConsent()\r\n            dispatch({\r\n                type: \"GET_CONSENT\",\r\n                data: response\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getAccounts = (user) => {\r\n    return async dispatch => {\r\n        if (user.consent){\r\n            if(user.accounts){\r\n                try {\r\n                    dispatch({\r\n                        type: \"GET_ACCOUNTS\",\r\n                        data: { ...user }\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }else{\r\n                try {\r\n                    const response = await obpService.getAccounts()\r\n                    dispatch({\r\n                        type: \"GET_ACCOUNTS\",\r\n                        data: { ...user, accounts: response.accounts }\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }}else {\r\n            dispatch({\r\n                type: \"NO_ACCOUNTS\"\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const getTransactions = (user) => {\r\n    return async dispatch => {\r\n        if(user){\r\n            if(user.consent){\r\n                try {\r\n                    const data = await obpService.getAccounts()\r\n                    const reducer = (a,b) => {\r\n                        if(a && b){\r\n                            return [...b, ...a]\r\n                        }\r\n                        return b\r\n                    }\r\n                    const transactionsPromises = data.accounts.map(async (account) => {\r\n                        const response = await obpService.getBalance(account.bank_id)\r\n                        const transactions = await obpService.getTransactions(account.bank_id, account.id)\r\n                        const balances = response.accounts.reduce((initial, item) => {\r\n                            if(item.account_id === account.id){\r\n                                initial.push(item.balances.reduce(reducer))\r\n                                return initial\r\n                            }else{\r\n                                return initial\r\n                            }\r\n                        },[])\r\n                        return(\r\n                            { ...account, transactions: transactions.transactions, balances: balances }\r\n                        )\r\n                    })\r\n                    const results = await Promise.all(transactionsPromises)\r\n                    const newUser = { ...user, accounts: results }\r\n                    dispatch({\r\n                        type:\"GET_TRANSACTIONS\",\r\n                        data: newUser\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }else {\r\n                dispatch({\r\n                    type: \"NO_ACCOUNTS\"\r\n                })\r\n            }\r\n        }else {\r\n            dispatch({\r\n                type: \"NO_ACCOUNTS\"\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n// export const getBalance = (user) => {\r\n//     return async dispatch => {\r\n//         if(user.consent){\r\n//             try {\r\n//                 const data = await obpService.getAccounts()\r\n//                 const balancePromises = data.accounts.map(async (account) => {\r\n//                     const response = await obpService.getBalance(account.bank_id)\r\n//                     const balances = response.accounts.map(account => account.balances)\r\n//                     return(\r\n//                         { ...account, balance: balances }\r\n//                     )\r\n//                 })\r\n//                 const results = await Promise.all(balancePromises)\r\n//                 const newUser = { ...user, accounts: results }\r\n//                 dispatch({\r\n//                     type:\"GET_BALANCE\",\r\n//                     data: newUser\r\n//                 })\r\n//             } catch (e) {\r\n//                 console.log(e)\r\n//             }\r\n//         }else{\r\n//             dispatch({\r\n//                 type:\"NO_ACCOUNTS\"\r\n//             })\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport const revokeConsent = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const response = await userService.revoke()\r\n            dispatch({\r\n                type: \"REVOKE_CONSENT\",\r\n                data: response\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport default userReducer","import React from \"react\"\r\nimport { Line } from \"react-chartjs-2\"\r\n\r\nconst AllAccounts = ({ transactions , totalBalance }) => {\r\n    if(transactions[0]){\r\n        transactions.sort((a,b) => {\r\n            return new Date(b.details.completed) - new Date(a.details.completed)\r\n        })\r\n        let balance = totalBalance\r\n        transactions = transactions.map(transaction => {\r\n            const newBalance = balance\r\n            balance -= Number(transaction.details.value.amount)\r\n            const date = new Date(transaction.details.completed)\r\n            const newDate =  date.getFullYear()+\"-\" + (date.getMonth()+1) + \"-\"+date.getDate()\r\n            return { ...transaction, details: { ...transaction.details, completed: newDate , new_balance: { ...transaction.details.new_balance, amount: newBalance } } }\r\n        })\r\n        const dates = transactions.map(transaction => transaction.details.completed)\r\n        let startingDate = null\r\n        const balanceList = transactions.map(transaction => transaction.details.new_balance.amount)\r\n        const data ={\r\n            labels : dates,\r\n            datasets: [{\r\n                label: \"Balance (EUR)\",\r\n                data: balanceList,\r\n                fill: false,\r\n                lineTension: 0.5,\r\n                backgroundColor: \"rgb(255, 99, 132)\",\r\n                borderColor: \"rgba(255, 99, 132, 0.2)\",\r\n            }]\r\n        }\r\n        const options = {\r\n            scales: {\r\n                yAxes: {\r\n                    grid: { display: true, },\r\n                    ticks: { beginAtZero: true } },\r\n                xAxes: {\r\n                    grid: { display: false, },\r\n                    ticks: {\r\n                        display: true,\r\n                        autoSkip: true,\r\n                        autoSkipPadding: 50,\r\n                    }\r\n                } },\r\n        }\r\n        return(\r\n            <div >\r\n                <div style ={{ height: \"500px\", width: \"1000px\" }} >\r\n                    <Line data={data} options={options} />\r\n                </div>\r\n                <div className = \"bg-white shadow-xl rounded-lg w-1/2\">\r\n                    <ul className=\"divide-y divide-gray-300\">\r\n                        {transactions.map((transaction) => {\r\n                            if(transaction.details.completed !== startingDate){\r\n                                startingDate = transaction.details.completed\r\n                            }else{\r\n                                transaction.details.completed = null\r\n                            }\r\n                            return(\r\n                                <div key = {transaction.id}>\r\n                                    {transaction.details.completed ? <h2 className=\"text-3xl font-semibold text-gray-800 md:text-2xl\">{transaction.details.completed}</h2> : console.log()}\r\n                                    <li className=\"p-4 hover:bg-gray-50 cursor-pointer\">\r\n                            Balance: {transaction.details.new_balance.amount.toFixed(2)} Transfer amount: {transaction.details.value.amount} Description: {transaction.details.description}\r\n                                    </li>\r\n                                </div>\r\n                            )})}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n    return(\r\n        <div className=\"flex items-center justify-center w-full h-full\">\r\n            <div className=\"flex justify-center items-center space-x-1 text-sm text-gray-700 \">\r\n\r\n                <svg fill='none' className=\"w-12 h-12 animate-spin\" viewBox=\"0 0 32 32\" xmlns='http://www.w3.org/2000/svg'>\r\n                    <path clipRule='evenodd'\r\n                        d='M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z'\r\n                        fill='currentColor' fillRule='evenodd' />\r\n                </svg>\r\n\r\n\r\n                <div className =\"text-3xl\">Loading ...</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AllAccounts","import React from \"react\"\r\nimport { Line } from \"react-chartjs-2\"\r\n\r\nconst SingleAccounts = ({ transactions, balances }) => {\r\n    if(transactions[0]){\r\n        transactions = transactions.map(transaction => {\r\n            const date = new Date(transaction.details.completed)\r\n            const newDate =  date.getFullYear()+\"-\" + (date.getMonth()+1) + \"-\"+date.getDate()\r\n            return { ...transaction, details: { ...transaction.details, completed: newDate } }\r\n        })\r\n        const dates = transactions.map(transaction => transaction.details.completed)\r\n        let startingDate = null\r\n        const balanceList = transactions.map(transaction => transaction.details.new_balance.amount)\r\n        const data ={\r\n            labels : dates,\r\n            datasets: [{\r\n                label: \"Balance (EUR)\",\r\n                data: balanceList,\r\n                fill: false,\r\n                lineTension: 0.5,\r\n                backgroundColor: \"rgb(255, 99, 132)\",\r\n                borderColor: \"rgba(255, 99, 132, 0.2)\",\r\n            }]\r\n        }\r\n        const options = {\r\n            scales: {\r\n                yAxes: {\r\n                    grid: { display: true, },\r\n                    ticks: { beginAtZero: true } },\r\n                xAxes: {\r\n                    grid: { display: false, },\r\n                    ticks: {\r\n                        display: true,\r\n                        autoSkip: true,\r\n                        autoSkipPadding: 50,\r\n                    }\r\n                } },\r\n        }\r\n        return(\r\n            <div>\r\n                <div style ={{ height: \"500px\", width: \"1000px\" }} >\r\n                    <Line data={data} options={options} />\r\n                </div>\r\n                <div className = \"bg-white shadow-xl rounded-lg w-1/2\">\r\n                    <ul className=\"divide-y divide-gray-300\">\r\n                        {transactions.map((transaction) => {\r\n                            if(transaction.details.completed !== startingDate){\r\n                                startingDate = transaction.details.completed\r\n                            }else{\r\n                                transaction.details.completed = null\r\n                            }\r\n                            return(\r\n                                <div key = {transaction.id}>\r\n                                    {transaction.details.completed ? <h2 className=\"text-3xl font-semibold text-gray-800 md:text-2xl\">{transaction.details.completed}</h2> : console.log()}\r\n                                    <li className=\"p-4 hover:bg-gray-50 cursor-pointer\" >\r\n                            Balance: {transaction.details.new_balance.amount} Transfer amount: {transaction.details.value.amount} Description: {transaction.details.description}\r\n                                    </li>\r\n                                </div>\r\n                            )})}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }else if(balances[0]){\r\n        return (\r\n            <div>\r\n                {balances.map(balance =>\r\n                    <h3 key = {balance.amount} className=\"text-3xl font-semibold text-gray-800 md:text-2xl\">\r\n                            Balance: {balance.amount}\r\n                    </h3>)}\r\n                No recent transactions\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SingleAccounts","import React, { useEffect } from \"react\"\r\nimport { useDispatch,useSelector } from \"react-redux\"\r\nimport { getTransactions, localLogin } from \"../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\nimport AllAccounts from \"./transactions/AllAccounts\"\r\nimport SingleAccounts from \"./transactions/SingleAccount\"\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, Route, Link\r\n} from \"react-router-dom\"\r\n\r\n\r\nconst Transaction = () => {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n    useEffect(() => {\r\n        dispatch(getTransactions(user))\r\n    }, [])\r\n    const history = useHistory()\r\n    const handleAccountAuth = (event) => {\r\n        event.preventDefault()\r\n        history.push(\"/consent\")\r\n    }\r\n    const handleRefresh = (event) => {\r\n        event.preventDefault()\r\n        dispatch(localLogin())\r\n        dispatch(getTransactions(user))\r\n    }\r\n    const reducer = (a,b) => {\r\n        if(a){\r\n            return [...b, ...a]\r\n        }\r\n        return b\r\n    }\r\n    const sumReducer = (initial,nextValue) => {\r\n        const reducer = (a,b) => {\r\n            return a + Number(b.amount)\r\n        }\r\n        const sum = nextValue.reduce(reducer,0)\r\n        return initial + sum\r\n    }\r\n    const accounts = user.accounts ? user.accounts : []\r\n    const allTransactionsArrays = user.accounts ?\r\n        user.accounts[0].transactions ?\r\n            user.accounts.map(account => account.transactions)\r\n            : null\r\n        : null\r\n\r\n    const allBalancesArrays = user.accounts ?\r\n        user.accounts[0].balances ?\r\n            user.accounts.map(account => account.balances)\r\n            : null\r\n        : null\r\n\r\n    const allTransactions =  allTransactionsArrays ? allTransactionsArrays.reduce(reducer, []) : []\r\n    const totalBalance = allBalancesArrays ? allBalancesArrays.reduce(sumReducer,0) : 0\r\n    const btnStyle =\"px-4 py-3 bg-gray-200 text-gray-500 text-xs font-semibold rounded hover:bg-gray-600 hover:text-white\"\r\n\r\n    return(\r\n        <div>\r\n            <h1 className=\"text-3xl font-semibold text-gray-800 md:text-4xl\">Transactions</h1>\r\n            {user.consent ?\r\n                <div>\r\n                    <Router>\r\n                        <div className = \"space-x-4\" >\r\n                            <Link to = {\"/transactions/All_accounts\"}>\r\n                                <button className = {btnStyle}>All accounts</button>\r\n                            </Link>\r\n                            {accounts.map(account =>\r\n                                <Link to = {\"/transactions/\" + account.bank_id + \"/\" + account.id} key ={account.id}>\r\n                                    <button className = {btnStyle}>{account.bank_id}</button>\r\n                                </Link>)}\r\n                            <button onClick = { handleRefresh } className = {btnStyle}>Refresh</button>\r\n                        </div>\r\n                        <Switch>\r\n                            {accounts.map(account =>\r\n                                <Route path = {\"/transactions/\" + account.bank_id + \"/\" + account.id} key = {account.id}>\r\n                                    <SingleAccounts transactions = {account.transactions} balances = {account.balances}/>\r\n                                </Route>)}\r\n                            <Route path =\"/transactions/All_accounts\">\r\n                                <AllAccounts transactions = {allTransactions} totalBalance = {totalBalance}/>\r\n                            </Route>\r\n                            <Route exact path =\"/transactions\">\r\n                                <AllAccounts transactions = {allTransactions} totalBalance = {totalBalance}/>\r\n                            </Route>\r\n                        </Switch>\r\n                    </Router>\r\n                </div>\r\n                :\r\n                <div className =\"addAccount\">\r\n                    <p>Please add an account to start</p>\r\n                    <button onClick ={handleAccountAuth} className =\"px-4 py-3 bg-gray-200 text-gray-500 text-xs font-semibold rounded hover:bg-gray-600 hover:text-white\">Add account</button>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Transaction","const messageReducer = (state = null, action) => {\r\n    switch (action.type){\r\n    case \"SET_MESSAGE\":\r\n        return action.data\r\n    default:\r\n        console.log(\"\")\r\n    }\r\n    return state\r\n}\r\n\r\nexport const setMessage = (message) => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_MESSAGE\",\r\n            data: message\r\n        })\r\n        setTimeout(() => dispatch({ type: \"SET_MESSAGE\", data: null }), 3000)\r\n    }\r\n}\r\n\r\nexport const clearMessage = () => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_MESSAGE\",\r\n            data: null\r\n        })\r\n    }\r\n}\r\n\r\nexport default messageReducer","import React from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\n\r\nconst Message = () => {\r\n    const message = useSelector(state => state.message)\r\n    const style = message ? \"alert flex flex-row items-center bg-blue-200 p-5 rounded border-b-2 border-blue-300\" : \"hidden\"\r\n    return (\r\n        <div className={style}>\r\n            <div className=\"alert-icon flex items-center bg-blue-100 border-2 border-blue-500 justify-center h-10 w-10 flex-shrink-0 rounded-full\">\r\n                <span className=\"text-blue-500\">\r\n                    <svg fill=\"currentColor\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        className=\"h-6 w-6\">\r\n                        <path fillRule=\"evenodd\"\r\n                            d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\"\r\n                            clipRule=\"evenodd\"></path>\r\n                    </svg>\r\n                </span>\r\n            </div>\r\n            <div className=\"alert-content ml-4\">\r\n                <div className=\"alert-title font-semibold text-lg text-blue-800\">\r\n                Info\r\n                </div>\r\n                <div className=\"alert-description text-sm text-blue-600\">\r\n                    {message}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        // <div style={style}>\r\n        //     {message}\r\n        // </div>\r\n    )\r\n}\r\n\r\nexport default Message","import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { login } from \"../../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\nimport { setMessage } from \"../../reducers/messageReducer\"\r\nimport Message from \"../Message\"\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleLogin = (event) => {\r\n        event.preventDefault()\r\n        const username = event.target.Username.value\r\n        const password = event.target.Password.value\r\n        const cb = () => history.push(\"/\")\r\n        const messageCb = (message) => {dispatch(setMessage(message))}\r\n        dispatch(login(username,password, cb, messageCb))\r\n    }\r\n    const inputStyle = \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-blue-300 \"\r\n    return (\r\n        <section className=\"App h-screen w-full flex justify-center items-center bg-gray-700 \">\r\n            <div className=\"w-full max-w-md bg-gray-800\">\r\n                <Message />\r\n                <form onSubmit={handleLogin} className=\" bg-white shadow-md rounded px-8 py-8 pt-8\">\r\n                    <div className=\"px-4 pb-4\">\r\n                        <label htmlFor=\"text\" className=\"text-sm block font-bold pb-2\">USERNAME</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"Username\"\r\n                            id =\"username\"\r\n                            className={inputStyle}\r\n                            placeholder=\"John97\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"px-4 pb-4\">\r\n                        <label htmlFor=\"password\" className=\"text-sm block font-bold pb-2\">PASSWORD</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"Password\"\r\n                            id=\"password\"\r\n                            className={inputStyle}\r\n                            placeholder=\"Enter your password\"\r\n                        />\r\n                    </div>\r\n                    <button id =\"login-button\"type=\"submit\" className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">Login</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login","import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { logout } from \"../../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nconst Logout = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleLogout = (event) => {\r\n        event.preventDefault()\r\n        const cb = () => history.push(\"/\")\r\n        dispatch(logout(cb))\r\n    }\r\n    return(\r\n        <button onClick ={handleLogout}> Log out</button>\r\n    )\r\n}\r\n\r\nexport default Logout","import React from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useHistory } from \"react-router\"\r\nimport { signup } from \"../../reducers/userReducer\"\r\nimport { setMessage } from \"../../reducers/messageReducer\"\r\nimport Message from \"../Message\"\r\n\r\nconst SignUp = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const handleSignup = (event) => {\r\n        event.preventDefault()\r\n        const username = event.target.Username.value\r\n        const password = event.target.Password.value\r\n        const name = event.target.Name.value\r\n        const cb = () => history.push(\"/\")\r\n        const messageCb = (message) => {dispatch(setMessage(message))}\r\n        dispatch(signup(username, name, password, cb, messageCb))\r\n    }\r\n    return (\r\n        <section className=\"App h-screen w-full flex justify-center items-center bg-gray-700 \">\r\n            <div className=\"w-full max-w-md bg-gray-800\">\r\n                <Message/>\r\n                <form onSubmit ={handleSignup} className=\" bg-white shadow-md rounded px-8 py-8 pt-8\">\r\n                    <div className=\"px-4 pb-4\">\r\n                        <label htmlFor=\"text\" className=\"text-sm block font-bold pb-2\">USERNAME</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"Username\"\r\n                            id =\"username\"\r\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-blue-300 \"\r\n                            placeholder=\"John97\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"px-4 pb-4\">\r\n                        <label htmlFor=\"text\" className=\"text-sm block font-bold pb-2\">NAME</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"Name\"\r\n                            id =\"name\"\r\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-blue-300 \"\r\n                            placeholder=\"John Pham\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"px-4 pb-4\">\r\n                        <label htmlFor=\"password\" className=\"text-sm block font-bold pb-2\">PASSWORD</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"Password\"\r\n                            id =\"password\"\r\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-blue-300\"\r\n                            placeholder=\"Enter your password\"/>\r\n                    </div>\r\n                    <button id =\"signup-button\" type=\"submit\" className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">Sign up</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default SignUp","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { getConsent } from \"../reducers/userReducer\"\r\nimport { Redirect } from \"react-router\"\r\n\r\nconst Consent = () => {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n\r\n    const handleConfirm =(event) => {\r\n        event.preventDefault()\r\n        dispatch(getConsent())\r\n    }\r\n    return(\r\n        <div>\r\n            {user ? <div>\r\n                <h1 className=\"text-3xl font-semibold text-gray-800 md:text-4xl\">Consent confirmation</h1>\r\n                <p>By accepting you are allowing your data to be accessed</p>\r\n                <button onClick ={handleConfirm} className =\"px-4 py-3 bg-gray-200 text-gray-500 text-xs font-semibold rounded hover:bg-gray-600 hover:text-white\">Confirm</button>\r\n            </div> :\r\n                <Redirect to =\"/\"/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Consent","import React, { useEffect } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport {  getAccounts, revokeConsent } from \"../reducers/userReducer\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nconst Accounts = () => {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n    useEffect(() => {\r\n        dispatch(getAccounts(user))\r\n    }, [])\r\n    const history = useHistory()\r\n    const handleAccountAuth = (event) => {\r\n        event.preventDefault()\r\n        history.push(\"/consent\")\r\n    }\r\n    const handleRevoke = (event) => {\r\n        event.preventDefault()\r\n        dispatch(revokeConsent())\r\n    }\r\n    return(\r\n        <div>\r\n            <h1 className=\"text-3xl font-semibold text-gray-800 md:text-4xl\">Accounts</h1>\r\n            {user.consent ?\r\n                <div>\r\n                    <div className = \"bg-white shadow-xl rounded-lg w-1/2\">\r\n                        <ul className=\"divide-y divide-gray-300\">\r\n                            {user.accounts ?\r\n                                user.accounts.map(account =>\r\n                                    <li key = {account.id} className=\"p-4 hover:bg-gray-50 cursor-pointer\">\r\n                                        {account.bank_id}\r\n                                    </li>)\r\n                                :\r\n                                <div className=\"flex items-center justify-center w-full h-full\">\r\n                                    <div className=\"flex justify-center items-center space-x-1 text-sm text-gray-700 \">\r\n\r\n                                        <svg fill='none' className=\"w-12 h-12 animate-spin\" viewBox=\"0 0 32 32\" xmlns='http://www.w3.org/2000/svg'>\r\n                                            <path clipRule='evenodd'\r\n                                                d='M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z'\r\n                                                fill='currentColor' fillRule='evenodd' />\r\n                                        </svg>\r\n\r\n\r\n                                        <div className =\"text-3xl\">Loading ...</div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <button onClick ={handleRevoke} className =\"px-4 py-3 bg-gray-200 text-gray-500 text-xs font-semibold rounded hover:bg-gray-600 hover:text-white\">Revoke Consent</button>\r\n                </div>\r\n                :\r\n                <div className =\"addAccount\">\r\n                    <p>Please add an account to start</p>\r\n                    <button onClick ={handleAccountAuth} className =\"px-4 py-3 bg-gray-200 text-gray-500 text-xs font-semibold rounded hover:bg-gray-600 hover:text-white\">Add account</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Accounts","import React, { useEffect } from \"react\"\r\nimport {  useDispatch, useSelector } from \"react-redux\"\r\nimport NoMatch from \"./components/NoMatch\"\r\nimport Transaction from \"./components/Transaction\"\r\nimport Login from \"./components/users/Login\"\r\nimport Logout from \"./components/users/Logout\"\r\nimport SignUp from \"./components/users/SignUp\"\r\nimport Consent from \"./components/Consent\"\r\nimport Accounts from \"./components/Accounts\"\r\nimport Message from \"./components/Message\"\r\nimport { localLogin  } from \"./reducers/userReducer\"\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, Route, Link\r\n} from \"react-router-dom\"\r\n\r\nconst App = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(localLogin())\r\n    }, [dispatch])\r\n\r\n    const user = useSelector(state => state.user)\r\n    const btnStyle = \"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-gray-400 items-center justify-center hover:bg-gray-900 hover:text-white hover:shadow-lg \"\r\n    const navStyle = \"flex items-center bg-gray-800 p-3 flex-wrap\"\r\n    return (\r\n        <div className=\"App\">\r\n            {user === null ?\r\n                <Router>\r\n                    <Switch>\r\n                        <Route path =\"/login\">\r\n                            <nav className = {navStyle}>\r\n                                <Link to=\"/\"><span className={btnStyle}>Home</span></Link>\r\n                                <Link to=\"/signup\"><span className={btnStyle}>Sign up</span></Link>\r\n                            </nav>\r\n                            <Login />\r\n                        </Route>\r\n                        <Route path =\"/signup\">\r\n                            <nav className = {navStyle}>\r\n                                <Link to=\"/\"><span className={btnStyle}>Home</span></Link>\r\n                                <Link to=\"/login\"><span className={btnStyle}>Log in</span></Link>\r\n                            </nav>\r\n                            <SignUp />\r\n                        </Route>\r\n                        <Route exact path =\"/\">\r\n                            <nav className = {navStyle}>\r\n                                <Link to=\"/login\"><span className={btnStyle}>Login</span></Link>\r\n                                <Link to=\"/signup\"><span className={btnStyle}>Sign up</span></Link>\r\n                            </nav>\r\n                            <Message />\r\n                            <div className=\"flex bg-white h-screen\">\r\n                                <div className=\"flex items-center text-center lg:text-left px-8 md:px-12 lg:w-1/2\">\r\n                                    <div>\r\n                                        <h2 className=\"text-3xl font-semibold text-gray-800 md:text-4xl\">Personal finance for <span className=\"text-indigo-600\">You</span></h2>\r\n                                        <p className=\"mt-2 text-sm text-gray-500 md:text-base\">This application would connect all finances into one covinient dashboard, from which you can start shaping your personal finace</p>\r\n                                        <div className=\"flex justify-center lg:justify-start mt-6\">\r\n                                            <Link to=\"/login\"><span className=\"px-4 py-3 bg-gray-900 text-gray-200 text-xs font-semibold rounded hover:bg-gray-800\">Get Started</span></Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"hidden lg:block lg:w-1/2 \" >\r\n                                    <div className=\"h-full object-cover bg-hero-pattern\">\r\n                                        <div className=\"h-full bg-black opacity-25\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Route>\r\n                        <Route path = \"*\">\r\n                            <nav className = {navStyle}>\r\n                                <Link to=\"/\"><div className={btnStyle}>Home</div></Link>\r\n                            </nav>\r\n                            <NoMatch />\r\n                        </Route>\r\n                    </Switch>\r\n                </Router>\r\n                :\r\n                <Router>\r\n                    <nav className = {navStyle}>\r\n                        <img className=\"w-7 h-7 md:w-10 md:h-10 mr-2 rounded-md overflow-hidden\" src=\"https://therminic2018.eu/wp-content/uploads/2018/07/dummy-avatar.jpg\" />\r\n                        <span className=\"lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-white items-center justify-center\">{user.username}</span>\r\n                        <Link to=\"/transactions\"><span className={btnStyle}>Transactions</span></Link>\r\n                        <Link to=\"/accounts\"><span className={btnStyle}>Accounts</span></Link>\r\n                        <Link to=\"/\"><span className={btnStyle}>Home</span></Link>\r\n                        <div className=\"block w-px h-6 mx-3 bg-gray-400 dark:bg-gray-700\"></div>\r\n                        <span className={btnStyle}>\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path  d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"></path>\r\n                            </svg>\r\n                            <Logout />\r\n                        </span>\r\n                    </nav>\r\n                    <Switch>\r\n                        <Route path =\"/transactions\">\r\n                            <Transaction />\r\n                        </Route>\r\n                        <Route path = \"/accounts\">\r\n                            <Accounts />\r\n                        </Route>\r\n                        <Route path = \"/consent\">\r\n                            <Consent/>\r\n                        </Route>\r\n                        <Route exact path =\"/\">\r\n                            <h1 className=\"text-3xl font-semibold text-gray-800 md:text-4xl\">Welcome to your budget planner</h1>\r\n                        </Route>\r\n                        <Route path =\"*\">\r\n                            <Link to=\"/\">Home</Link>\r\n                            <NoMatch />\r\n                        </Route>\r\n                    </Switch>\r\n                </Router>\r\n            }\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\"\r\nimport thunk from \"redux-thunk\"\r\nimport { composeWithDevTools } from \"redux-devtools-extension\"\r\nimport userReducer from \"./reducers/userReducer\"\r\nimport messageReducer from \"./reducers/messageReducer\"\r\n\r\n\r\n\r\nconst combinedReducer = combineReducers({\r\n    user: userReducer,\r\n    message: messageReducer\r\n})\r\nconst store = createStore(\r\n    combinedReducer,\r\n    composeWithDevTools(\r\n        applyMiddleware(thunk)\r\n    )\r\n)\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { Provider } from \"react-redux\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\nimport store from \"./store\"\r\nimport reportWebVitals from \"./reportWebVitals\"\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}